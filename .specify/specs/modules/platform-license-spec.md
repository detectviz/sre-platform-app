# 功能規格書（Feature Specification）

**模組名稱 (Module)**: platform-license
**類型 (Type)**: Module
**建立日期 (Created)**: 2025-10-06
**狀態 (Status)**: Draft
**依據憲法條款 (Based on)**: `.specify/memory/constitution.md` (v1.3.0)

---

## 一、主要使用者情境（User Scenarios & Testing）

### 主要使用者故事（Primary User Story）
作為一名平台管理員或決策者，我需要清楚地了解我當前使用的平台版本（社群版）所包含的功能，以及付費的商業版能提供哪些額外的進階功能。我希望有一個專門的頁面，能讓我直觀地比較不同版本之間的差異，並在需要升級時能方便地找到聯繫方式。

#### 具體情境:
- **功能評估**: 在決定是否升級至商業版前，我需要清楚了解社群版與商業版的功能差異，評估哪些進階功能對我們的業務場景有實質價值。
- **預算規劃**: 向管理層申請預算時，我需要一個清晰的功能對比表格，說明升級後能獲得的具體能力（如進階告警、多租戶支援等）。
- **商務諮詢**: 當確定需要商業版功能時，我需要快速找到聯繫窗口，取得報價與技術支援資訊。
- **合規需求**: 在某些情境下（如企業合規要求），我需要確認社群版是否滿足特定功能需求（如稽核日誌、角色權限管理），或必須升級至商業版。

#### 現有痛點:
- 若功能對比不清晰，可能誤判需求，導致預算浪費或功能不足。
- 缺乏明確聯繫方式時，需額外搜尋商務窗口，延長採購流程。
- 若版本資訊散落在文件中，難以快速獲取全貌，影響決策效率。

### 驗收情境（Acceptance Scenarios）

#### 場景群組 A：版本資訊展示
1.  **Given** 我首次訪問「授權管理」頁面。
    **When** 頁面載入完成。
    **Then** 系統應清晰顯示當前運行的平台版本為「社群版」，並使用醒目的標籤或卡片呈現。
    **And Then** 頁面應同時顯示社群版與商業版的核心功能亮點，以並排卡片形式展示。

2.  **Given** 我需要快速了解兩個版本的差異。
    **When** 我瀏覽頁面中段的功能比較表格。
    **Then** 系統應逐項列出各項功能在「社群版」與「商業版」的可用性，使用 ✅/❌ 圖示清晰標示。
    **And Then** 商業版獨有功能（如「進階 AI 洞察」、「企業級支援」、「多租戶隔離」）應以特殊樣式突顯。

3.  **Given** 我想確認特定功能（如「稽核日誌」）在哪個版本可用。
    **When** 我查看功能比較表格中的「稽核日誌」項目。
    **Then** 系統應明確顯示該功能在兩個版本中的支援狀態與功能範圍差異。

#### 場景群組 B：內容動態載入
4.  **Given** 內容管理系統已提供完整的授權頁面內容。
    **When** 頁面使用 `useContent` hook 載入 `LICENSE_PAGE` 內容。
    **Then** 系統應成功顯示來自內容管理系統的文字、列表與功能比較表格。
    **And Then** 不應顯示任何硬編碼的 fallback 內容。

5.  **Given** 內容管理系統暫時無法回應或內容未定義。
    **When** 頁面嘗試載入內容但失敗。
    **Then** 系統應顯示硬編碼的 fallback 內容（如預設的社群版功能亮點），確保使用者仍能看到基本資訊。
    **And Then** 應在控制台記錄警告訊息，提示內容載入失敗。

6.  **Given** 內容管理系統正在載入中。
    **When** 使用者訪問頁面時內容尚未完全載入。
    **Then** 系統應顯示骨架屏（Skeleton）或載入指示器，避免顯示空白頁面。

#### 場景群組 C：升級引導與商務聯繫
7.  **Given** 我在評估完功能差異後，決定聯繫銷售團隊以了解商業版的詳細資訊。
    **When** 我點擊頁面底部的「聯繫我們進行升級」按鈕。
    **Then** 我的郵件客戶端應被啟動，並自動填寫好收件人為指定的銷售聯繫信箱（如 sales@example.com）。
    **And Then** 郵件主旨應預先填寫為「平台商業版升級諮詢」，方便銷售團隊識別。

8.  **Given** 我想了解商業版的技術支援範圍。
    **When** 我查看商業版功能卡片中的「企業級支援」項目。
    **Then** 系統應顯示技術支援的具體內容（如 24/7 支援、SLA 保證、專屬客戶經理等）。

9.  **Given** 我需要向管理層報告升級的價值。
    **When** 我使用功能比較表格準備簡報資料。
    **Then** 表格應提供可複製的結構化資訊，清楚呈現商業版的額外價值。

#### 場景群組 D：整合情境與邊界案例
10. **Given** 頁面內容完全來自內容管理系統。
    **When** 產品團隊更新了功能比較表格，新增了一項商業版功能「容量預測分析」。
    **Then** 下次使用者訪問頁面時，應自動顯示更新後的內容，無需重新部署前端。

11. **Given** 使用者在低網速環境下訪問頁面。
    **When** `useContent` hook 需要較長時間載入內容。
    **Then** 系統應在載入超過 3 秒時，先顯示 fallback 內容，避免使用者等待過久。
    **And Then** 當內容最終載入完成時，應平滑過渡更新頁面內容。

12. **Given** 頁面上的所有內容都是唯讀資訊。
    **When** 使用者嘗試與頁面互動（如複製文字、點擊功能項目）。
    **Then** 系統不應提供任何輸入欄位或編輯功能，僅支援閱讀與導覽。

### 邊界案例（Edge Cases）
- 即使 `useContent` hook 無法載入內容，頁面也應顯示一個載入中或錯誤的狀態，而不是空白頁。
- 頁面上的所有內容都應是唯讀的，不應有任何可供使用者輸入的欄位。

---

## 二、功能需求（Functional Requirements）

### 2.1. 版本資訊展示 (Version Display)
| 編號 | 說明 |
|------|------|
| **FR-V-001** | 頁面必須（MUST）清晰地標示出當前運行的平台版本為「社群版」，使用醒目的視覺標籤或徽章。 |
| **FR-V-002** | 頁面必須（MUST）以並排卡片或類似形式，摘要展示社群版和商業版的核心功能亮點（每個版本至少 3-5 個關鍵功能）。 |
| **FR-V-003** | 頁面必須（MUST）提供一個詳細的功能比較表格，逐項列出各項功能在哪個版本中可用，使用 ✅/❌ 圖示標示。 |
| **FR-V-004** | 商業版獨有功能必須（MUST）在視覺上突顯（如使用特殊顏色、標籤或圖示），方便使用者快速識別升級價值。 |

### 2.2. 內容管理整合 (Content Management)
| 編號 | 說明 |
|------|------|
| **FR-C-001** | 頁面的所有文字內容必須（MUST）優先來自於 `useContent` hook（載入 `LICENSE_PAGE` 內容），以便市場或產品團隊透過內容管理系統更新。 |
| **FR-C-002** | 系統應（SHOULD）為關鍵內容（如「社群版功能亮點」）提供硬編碼的 fallback 資料，以防內容管理系統無法回應。 |
| **FR-C-003** | 當內容載入失敗時，系統必須（MUST）在控制台記錄警告訊息，包含失敗原因與時間戳記。 |
| **FR-C-004** | 內容載入期間，系統應（SHOULD）顯示骨架屏（Skeleton）或載入指示器，提升使用者體驗。 |

### 2.3. 升級引導與商務聯繫 (Upgrade Guidance)
| 編號 | 說明 |
|------|------|
| **FR-U-001** | 頁面必須（MUST）提供一個明確的「行動呼籲 (Call to Action)」按鈕，引導使用者聯繫商務團隊（如「聯繫我們進行升級」）。 |
| **FR-U-002** | 按鈕必須（MUST）使用 `mailto:` 連結，自動開啟使用者的郵件客戶端，並預先填寫收件人信箱（如 sales@example.com）。 |
| **FR-U-003** | 郵件主旨應（SHOULD）預先填寫為「平台商業版升級諮詢」，方便銷售團隊識別與分類。 |
| **FR-U-004** | 商業版功能卡片應（SHOULD）包含技術支援範圍說明（如 24/7 支援、SLA 保證、專屬客戶經理等）。 |

### 2.4. 資訊唯讀與安全 (Read-Only & Security)
| 編號 | 說明 |
|------|------|
| **FR-S-001** | 本模組必須（MUST）僅為資訊展示頁面，不包含任何管理授權金鑰、編輯設定或修改資料的功能。 |
| **FR-S-002** | 頁面不得（MUST NOT）提供任何使用者輸入欄位，所有內容均為唯讀。 |
| **FR-S-003** | 頁面應（SHOULD）支援內容複製功能，方便使用者準備簡報或報告資料。 |

---

## 三、關鍵資料實體（Key Entities）
| 實體名稱 | 描述 | 關聯 |
|-----------|------|------|
| **Content (`LICENSE_PAGE`)** | 儲存在內容管理系統中的一個物件，包含了此頁面需要顯示的所有文字和列表。 | - |

---

## 四、權限控制 (Role-Based Access Control)

**[FUTURE REQUIREMENT]** 此頁面未來可能需要根據使用者權限進行訪問控制，但目前對所有使用者可見。

---

## 五、觀測性與治理檢查（Observability & Governance Checklist）

此部分描述當前 MVP 的狀態，作為未來迭代的基準。

**標記說明**:
- ✅ 已實現（Implemented）
- 🟡 部分實現（Partially Implemented）
- ⚙️ 未來需求（Future Requirement）

| 項目 | 狀態 | 說明 |
|------|------|------|
| 記錄與追蹤 (Logging/Tracing) | 🟡 | 部分實現。僅記錄內容載入失敗的警告訊息，未記錄使用者訪問與互動行為。 |
| 指標與告警 (Metrics & Alerts) | ⚙️ | 未來需求。建議追蹤頁面訪問次數、停留時間、「聯繫我們」按鈕點擊率，作為商業轉化指標。 |
| RBAC 權限與審計 | 🟡 | 部分實現。頁面目前對所有登入者可見，未來可考慮針對特定角色顯示差異化內容（如已購買商業版的使用者顯示不同訊息）。 |
| i18n 文案 | ✅ | 已實現。頁面所有 UI 文字均由 `useContent` hook 提供，支援多語系內容管理。 |
| Theme Token 使用 | 🟡 | 部分實現。UI 混用預定義樣式與直接的 Tailwind 色票，未來需統一使用 Design Token。 |

---

## 六、審查與驗收清單（Review & Acceptance Checklist）

- [x] 無技術實作語句。
- [x] 所有必填段落皆存在。
- [x] 所有 FR 可測試且明確。
- [x] 無未標註的模糊需求。
- [x] 符合 `.specify/memory/constitution.md`。（已標注違規與待確認項）

---

## 七、模糊與待確認事項（Clarifications）

- **[NEEDS CLARIFICATION] Theming**: MVP 廣泛使用 Tailwind CSS 的原子化 class (如 `bg-amber-500/10`) 來定義語義顏色和樣式，未來需重構為使用中央設計系統的 Theme Token。
- **[NEEDS CLARIFICATION] Content Fallback**: 「社群版功能亮點」等內容在 `useContent` 未提供時有硬編碼的 fallback，未來應確保所有內容均由 CMS 管理。
