# 自動化 (Automation) 功能規格

本文檔旨在根據現有系統頁面截圖，逆向工程並定義自動化相關功能的使用者需求與功能規格。

---

### `automation-scripts-list.png`

**現況描述**
- 此頁面為「自動化腳本」列表，以表格形式呈現所有已建立的自動化腳本 (Playbook)。
- 主要介面包含一個工具列、腳本列表、以及每列的操作按鈕。
- 工具列提供「新增腳本」及「欄位設定」功能。
- 表格支援多選 (checkbox)，選擇項目後會顯示批次操作工具列，目前提供「刪除」功能。
- 列表欄位包含：腳本名稱/描述、觸發方式、上次執行狀態、上次執行時間、執行次數及操作。
- 「上次執行狀態」以不同顏色的藥丸 (Pill) 樣式呈現，例如成功 (綠)、失敗 (紅)、執行中 (藍)。

**互動流程**
- **新增腳本**: 使用者點擊「新增腳本」按鈕，應彈出「新增腳本」互動視窗 (對應 `automation-edit-script-modal.png`)。
- **編輯腳本**: 使用者點擊任一腳本右側的「編輯」圖示按鈕，應彈出對應的「編輯腳本」互動視窗，並預先填入該腳本的資料。
- **執行腳本**: 使用者點擊「運行」圖示按鈕，應彈出「執行腳本」確認視窗。
- **刪除腳本**: 
  - 使用者點擊單一腳本的「刪除」圖示按鈕，應彈出確認刪除的提示視窗。
  - 使用者勾選多個腳本後，點擊批次操作列的「刪除」按鈕，應能一次刪除所有選中的腳本。
- **欄位設定**: 使用者點擊「欄位設定」按鈕，應彈出互動視窗，允許使用者自訂表格顯示的欄位。
- **查看**: 腳本名稱下方會顯示該腳本的簡短描述。

**API 與資料流**
- **載入頁面**:
  - `GET /api/v1/automation/scripts`: 獲取腳本列表資料。
    - **傳出參數**: (無)
    - **傳入資料**: `items: AutomationPlaybook[]`, `total: number`
- **刪除腳本**:
  - `DELETE /api/v1/automation/scripts/{id}`: 刪除指定的單一腳本。
    - **傳出參數**: `id` (腳本 ID)
    - **傳入資料**: 成功或失敗的狀態訊息。
- **批次刪除**:
  - `POST /api/v1/automation/scripts/batch-actions`: 進行批次操作。
    - **傳出參數**: `action: 'delete'`, `ids: string[]` (腳本 ID 列表)
    - **傳入資料**: 成功或失敗的狀態訊息。
- **資料模型**: `AutomationPlaybook`
  ```typescript
  // 自動化腳本 (Playbook) 的資料結構
  export interface AutomationPlaybook {
    id: string;                      // 唯一識別碼
    name: string;                    // 腳本名稱
    description: string;             // 腳本描述
    trigger: string;                 // 觸發方式的簡短描述 (例如 "手動")
    type: AutomationPlaybookType;    // 腳本類型 (shell, python 等)
    content: string;                 // 腳本內容
    last_run_at: string;             // 上次執行時間 (ISO 8601 格式)
    last_run_status: ExecutionStatus;// 上次執行狀態 (success, failed 等)
    run_count: number;               // 總執行次數
    created_at: string;              // 建立時間
    updated_at: string;              // 更新時間
    parameters?: ParameterDefinition[]; // 腳本參數定義
    deleted_at?: string;              // 軟刪除標記
  }
  ```

**需求與規格定義**
- **需求 1: 查看所有自動化腳本**
  - **規格 1.1**: 系統必須提供一個頁面，以表格形式展示所有未被軟刪除的自動化腳本。
  - **規格 1.2**: 表格應預設顯示腳本名稱、觸發方式、上次執行狀態、上次執行時間、執行次數等核心欄位。
  - **規格 1.3**: 「上次執行狀態」需根據不同狀態（`success`, `failed`, `running`）顯示對應的顏色標籤，方便使用者快速識別。
- **需求 2: 建立與管理腳本**
  - **規格 2.1**: 系統必須提供「新增腳本」的入口，點擊後開啟建立新腳本的表單。
  - **規格 2.2**: 使用者應能在列表上直接「編輯」或「刪除」任一腳本。
  - **規格 2.3**: 刪除操作前，必須有二次確認機制，防止誤刪。
- **需求 3: 執行與操作**
  - **規格 3.1**: 使用者應能在列表上直接觸發「執行」操作。
  - **規格 3.2**: 系統必須支援對腳本進行批次刪除。
- **需求 4: 個人化檢視**
  - **規格 4.1**: 使用者應能自訂表格顯示的欄位，並儲存其偏好設定。
---

### `automation-edit-script-modal.png`

**現況描述**
- 此為「新增/編輯自動化腳本」的互動視窗 (Modal)。
- 表單包含基本資訊（名稱、類型、描述）、腳本內容編輯區，以及一個可動態增減的參數設定區。
- 腳本內容區塊右上角有兩個輔助功能：「上傳腳本」和「AI 產生腳本」。
- 參數區允許使用者定義執行腳本時可傳入的變數，每個參數可設定名稱、標籤、類型（字串、數字、布林、枚舉）、是否必填、預設值等。

**互動流程**
- **開啟視窗**:
  - 點擊列表頁的「新增腳本」時，開啟此視窗，表單為空白。
  - 點擊列表項的「編輯」時，開啟此視窗，表單預先填入該腳本的現有資料。
- **填寫表單**: 使用者可以填寫或修改腳本的名稱、描述、類型和內容。
- **上傳腳本**: 使用者點擊「上傳腳本」，可從本機選擇檔案 (`.sh`, `.py` 等)。選擇後，檔案內容會自動填入「腳本內容」欄位，系統會嘗試根據副檔名更新「類型」欄位。
- **AI 產生腳本**: 使用者點擊「AI 產生腳本」，會開啟另一個互動視窗 (對應 `automation-ai-generate-script-modal.png`)。
- **管理參數**:
  - 使用者可點擊「新增參數」來增加一個新的參數列。
  - 對於每個參數，使用者可以輸入其屬性。
  - 如果參數類型為 `enum`，使用者可以動態新增/移除該枚舉的選項 (鍵值對)。
  - 使用者可隨時移除不需要的參數。
- **儲存**: 使用者點擊「儲存」，會將表單資料送出，關閉視窗並更新腳本列表。

**API 與資料流**
- **儲存腳本 (新增)**:
  - `POST /api/v1/automation/scripts`: 當編輯的 `playbook` 物件為 `null` 時呼叫。
    - **傳出參數**: `Partial<AutomationPlaybook>` (表單資料)
    - **傳入資料**: 新建立的 `AutomationPlaybook` 物件。
- **儲存腳本 (更新)**:
  - `PATCH /api/v1/automation/scripts/{id}`: 當編輯現有的 `playbook` 物件時呼叫。
    - **傳出參數**: `id` (腳本 ID), `Partial<AutomationPlaybook>` (表單資料)
    - **傳入資料**: 更新後的 `AutomationPlaybook` 物件。
- **資料模型**: `AutomationPlaybook`, `ParameterDefinition`
  ```typescript
  // 腳本參數定義
  export interface ParameterDefinition {
    name: string;                      // 參數名稱 (變數名)
    label: string;                     // 顯示標籤
    type: 'string' | 'number' | 'enum' | 'boolean'; // 參數類型
    required: boolean;                 // 是否為必填
    default_value?: string | number | boolean; // 預設值
    options?: { value: string; label: string }[]; // enum 類型的選項
    placeholder?: string;              // 輸入提示
  }
  ```

**需求與規格定義**
- **需求 1: 提供腳本編輯介面**
  - **規格 1.1**: 系統必須提供一個互動視窗，用於建立和編輯自動化腳本。
  - **規格 1.2**: 表單必須包含腳本名稱、類型、描述、腳本內容等欄位。名稱為必填項。
- **需求 2: 支援腳本參數化**
  - **規格 2.1**: 使用者應能為腳本定義一或多個執行參數。
  - **規格 2.2**: 每個參數必須能定義其名稱、標籤、類型和是否必填。
  - **規格 2.3**: 當參數類型為 `enum` 時，必須允許使用者自訂選項列表。
- **需求 3: 提供腳本撰寫輔助功能**
  - **規格 3.1**: 系統應允許使用者從本機上傳腳本檔案，以快速填充內容。
  - **規格 3.2**: 系統必須整合 AI 輔助功能，協助使用者根據自然語言描述產生腳本。

---

### `automation-ai-generate-script-modal.png`

**現況描述**
- 此為「AI 產生腳本」功能的互動視窗，從「編輯腳本」視窗中觸發。
- 介面包含一個文字輸入框，讓使用者輸入需求 (Prompt)。
- 一個「產生」按鈕，用於觸發 AI 處理。
- 一個結果預覽區，用於顯示 AI 回傳的腳本類型、內容和解析出的參數。
- 一個「套用」按鈕，僅在成功產生結果後顯示。

**互動流程**
- **輸入需求**: 使用者在文字框中輸入想實現的自動化任務，例如「寫一個 python 腳本，檢查指定 URL 的 HTTP 狀態碼」。
- **產生腳本**: 使用者點擊「產生」按鈕，系統顯示載入中狀態，並向後端發送請求。
- **預覽結果**: 後端處理完畢後，在結果區顯示建議的腳本類型、腳本內容和參數。
- **套用結果**: 使用者檢視結果後，若滿意，可點擊「套用」。系統會將結果回填至「編輯腳本」視窗的對應欄位，並關閉此 AI 視窗。
- **關閉**: 使用者可隨時點擊「取消」或關閉按鈕，放棄此次操作。

**API 與資料流**
- **產生腳本**:
  - `POST /api/v1/ai/automation/generate-script`: 發送使用者需求以產生腳本。
    - **傳出參數**: `prompt: string` (使用者輸入的需求)
    - **傳入資料**: `GeneratedPlaybook` 物件
- **資料模型**: `GeneratedPlaybook`
  ```typescript
  // AI 產生的腳本物件
  interface GeneratedPlaybook {
    type: AutomationPlaybook['type']; // 建議的腳本類型
    content: string;                  // 產生的腳本內容
    parameters: ParameterDefinition[];// 解析出的參數
  }
  ```

**需求與規格定義**
- **需求 1: 透過 AI 輔助產生腳本**
  - **規格 1.1**: 系統必須提供一個介面，讓使用者能以自然語言描述來產生自動化腳本。
  - **規格 1.2**: 使用者點擊產生後，系統應呼叫後端 AI 服務，並將使用者輸入的 prompt 傳遞過去。
- **需求 2: 預覽與套用 AI 結果**
  - **規格 2.1**: AI 服務回傳結果後，系統必須在介面上清晰地展示產生的腳本類型、內容和建議的參數。
  - **規格 2.2**: 使用者必須能夠將 AI 產生的結果一鍵「套用」回腳本編輯表單中。
  - **規格 2.3**: 如果 AI 服務處理失敗，必須向使用者顯示明確的錯誤提示。
---

### `automation-triggers-list.png`

**現況描述**
- 此頁面為「自動化觸發器」列表，以表格形式呈現所有已設定的觸發器。
- 介面包含一個工具列和觸發器列表。
- 工具列提供「搜尋和篩選」、「欄位設定」和「新增觸發器」功能。
- 表格支援多選，選擇後會顯示批次操作工具列，提供「啟用」、「停用」和「刪除」功能。
- 列表欄位包含：啟用狀態 (開關)、名稱、類型、目標腳本、上次觸發時間及操作。
- 「類型」欄位根據其值（排程、Webhook、事件）顯示不同顏色的藥丸 (Pill) 樣式。

**互動流程**
- **新增觸發器**: 使用者點擊「新增觸發器」按鈕，應彈出「新增觸發器」互動視窗 (對應 `automation-edit-trigger-*.png`)。
- **編輯觸發器**: 使用者點擊任一觸發器右側的「編輯」圖示按鈕，應彈出對應的「編輯觸發器」互動視窗，並預先填入該觸發器的資料。
- **啟用/停用**: 使用者可直接點擊列表中的「啟用」開關，快速切換該觸發器的狀態。
- **刪除觸發器**: 使用者點擊單一觸發器的「刪除」圖示按鈕，應彈出確認刪除的提示視窗。
- **批次操作**: 使用者勾選多個觸發器後，可點擊批次操作列上的按鈕，對所有選中項目進行啟用、停用或刪除。
- **搜尋與篩選**: 使用者點擊「搜尋和篩選」按鈕，應彈出互動視窗，允許使用者根據關鍵字、類型等條件過濾列表。

**API 與資料流**
- **載入頁面**:
  - `GET /api/v1/automation/triggers`: 獲取觸發器列表資料，支援分頁、排序和篩選。
    - **傳出參數**: `page`, `page_size`, `sort_by`, `sort_order`, `filters`
    - **傳入資料**: `items: AutomationTrigger[]`, `total: number`
  - `GET /api/v1/automation/scripts`: 獲取所有腳本，用於將 `target_playbook_id` 轉換為可讀的名稱。
- **更新觸發器狀態**:
  - `PATCH /api/v1/automation/triggers/{id}`: 當使用者切換啟用開關時呼叫。
    - **傳出參數**: `id` (觸發器 ID), `enabled: boolean`
    - **傳入資料**: 更新後的 `AutomationTrigger` 物件。
- **批次操作**:
  - `POST /api/v1/automation/triggers/batch-actions`: 進行批次啟用/停用/刪除。
    - **傳出參數**: `action: 'enable' | 'disable' | 'delete'`, `ids: string[]`
    - **傳入資料**: 成功或失敗的狀態訊息。
- **資料模型**: `AutomationTrigger`
  ```typescript
  // 自動化觸發器
  export interface AutomationTrigger {
    id: string;
    name: string;
    description: string;
    type: TriggerType; // 'schedule' | 'webhook' | 'event'
    enabled: boolean;
    target_playbook_id: string;
    retry_policy?: RetryPolicy;
    config: {
      cron?: string;
      cron_description?: string;
      webhook_url?: string;
      event_conditions?: string; // e.g., "severity = 'critical' AND tags.has_owner = 'true'"
    };
    last_triggered_at: string;
    creator: string;
    created_at: string;
    updated_at: string;
    deleted_at?: string;
  }
  ```

**需求與規格定義**
- **需求 1: 集中管理所有觸發器**
  - **規格 1.1**: 系統必須提供一個頁面，以表格形式展示所有自動化觸發器。
  - **規格 1.2**: 使用者必須能直接在列表上快速啟用或停用一個觸發器。
  - **規格 1.3**: 系統需清楚標示每個觸發器的類型（排程、Webhook、事件）。
- **需求 2: 建立與維護觸發器**
  - **規格 2.1**: 系統必須提供「新增觸發器」的入口。
  - **規格 2.2**: 使用者應能在列表上直接「編輯」或「刪除」任一觸發器。
  - **規格 2.3**: 刪除操作需有二次確認。
- **需求 3: 高效率操作**
  - **規格 3.1**: 系統必須支援對觸發器進行批次啟用、停用和刪除。
  - **規格 3.2**: 系統必須提供強大的搜尋和篩選功能，幫助使用者在大量觸發器中快速定位目標。
---

### `automation-edit-trigger-event.png` / `automation-edit-trigger-schedule.png` / `automation-edit-trigger-webhook.png`

**現況描述**
- 此為「新增/編輯觸發器」的互動視窗，它會根據使用者選擇的「觸發器類型」動態改變下方的設定區域。
- **通用欄位**: 名稱、描述、目標腳本、觸發器類型。
- **類型切換**: 使用者可以透過一個按鈕群組在「排程」、「Webhook」和「事件」三種類型間切換。
- **排程模式 (`-schedule.png`)**: 當類型為「排程」時，顯示一個用於輸入 Cron 表達式的欄位。
- **Webhook 模式 (`-webhook.png`)**: 當類型為「Webhook」時，顯示一個唯讀的 Webhook URL。URL 在儲存後由後端生成。
- **事件模式 (`-event.png`)**: 當類型為「事件」時，顯示一個條件編輯器，允許使用者設定一或多個觸發條件。

**互動流程**
- **類型切換**: 使用者點擊類型按鈕（例如從「排程」切換到「事件」），下方的設定區域會立即更新，顯示對應的表單欄位，並填入該類型的預設值。
- **設定排程**: 在排程模式下，使用者需要輸入一個有效的 Cron 表達式。
- **處理 Webhook**: 在 Webhook 模式下，URL 是唯讀的。使用者可以點擊旁邊的「複製」按鈕，將 URL 複製到剪貼簿。
- **設定事件條件**:
    - 在事件模式下，使用者可以點擊「新增條件」來增加一行條件規則。
    - 每行規則包含 `鍵`、`運算子` 和 `值`。
    - `鍵` 的下拉選單包含了所有可用的條件欄位（例如 `severity`, `tags` 等）。
    - `值` 的輸入框會根據所選的 `鍵` 變化：如果 `鍵` 有預定義的選項（如 `severity`），`值` 會變成一個下拉選單；否則為文字輸入框。
    - 使用者可以隨時移除任一條件。
- **儲存**: 使用者填寫完畢後點擊「儲存」，系統會根據當前選擇的類型，將 `config` 物件與其他通用欄位一起送出。

**API 與資料流**
- **載入選項**:
  - `GET /api/v1/options`: 獲取 `automation_triggers` 的相關選項，包括類型、預設設定、條件鍵等。
  - `GET /api/v1/settings/tags`: 獲取標籤定義，用於「事件」模式下，當條件鍵為標籤時，動態生成值的下拉選單。
- **儲存觸發器 (新增)**:
  - `POST /api/v1/automation/triggers`: 當建立新觸發器時呼叫。
    - **傳出參數**: `Partial<AutomationTrigger>` (完整的表單資料，包括 `config` 物件)
    - **傳入資料**: 新建立的 `AutomationTrigger` 物件 (包含後端生成的 `webhook_url`)。
- **儲存觸發器 (更新)**:
  - `PATCH /api/v1/automation/triggers/{id}`: 當更新現有觸發器時呼叫。
    - **傳出參數**: `id`, `Partial<AutomationTrigger>`
    - **傳入資料**: 更新後的 `AutomationTrigger` 物件。
- **資料模型**: `AutomationTrigger['config']`
  - 此互動視窗的核心是動態建構 `config` 物件。
  - **排程**: `{ "cron": "0 * * * *" }`
  - **Webhook**: `{ "webhook_url": "https://.../..." }` (由後端生成)
  - **事件**: `{ "event_conditions": "severity = 'critical' AND tags.app = 'nginx'" }` (由前端條件編輯器序列化生成)

**需求與規格定義**
- **需求 1: 支援多種類型的觸發器設定**
  - **規格 1.1**: 系統必須在同一個編輯視窗中，提供對「排程」、「Webhook」、「事件」三種觸發器類型的設定支援。
  - **規格 1.2**: 介面必須根據使用者選擇的類型，動態且即時地顯示對應的設定欄位。
- **需求 2: 提供清晰的排程設定**
  - **規格 2.1**: 對於排程觸發器，系統必須提供一個欄位讓使用者輸入標準的 Cron 表達式。
  - **規格 2.2**: [NEEDS CLARIFICATION: 是否需要提供 Cron 表達式的語法提示或人類可讀的描述？]
- **需求 3: 提供安全的 Webhook 整合**
  - **規格 3.1**: 對於 Webhook 觸發器，其唯一的、不可預測的 URL 必須由後端生成，並在儲存後才顯示。
  - **規格 3.2**: 系統必須提供一個方便的「複製」按鈕，讓使用者能輕易地取得該 URL。
- **需求 4: 提供強大的事件驅動設定**
  - **規格 4.1**: 對於事件觸發器，系統必須提供一個條件編輯器，讓使用者可以定義一或多個觸發條件。
  - **規格 4.2**: 條件之間應為「AND」邏輯關係，即所有條件均滿足時才觸發。
  - **規格 4.3**: 條件編輯器應盡可能提供下拉選單來引導使用者輸入，減少錯誤。
---

### `automation-run-logs-list.png`

**現況描述**
- 此頁面為「自動化執行歷史」，即執行日誌 (Run Logs) 列表。
- 介面包含一個工具列、可排序的表格、以及分頁控制器。
- 工具列提供「搜尋和篩選」、「匯出」和「欄位設定」功能。
- 表格欄位包含：腳本名稱、狀態、觸發來源、啟動者、開始時間、執行耗時等。
- 表頭支援點擊排序。
- 「狀態」欄位以不同顏色的藥丸樣式呈現，對於「失敗」的紀錄，旁邊會出現一個「重試」按鈕。
- 整個表格支援多選，用於匯出時指定範圍。

**互動流程**
- **查看詳情**: 使用者點擊列表中的任一筆紀錄，會從右側滑出一個抽屜 (Drawer)，顯示該次執行的詳細日誌 (對應 `automation-run-log-detail.png`)。
- **排序**: 使用者點擊表頭的欄位名稱（如「開始時間」），列表會根據該欄位進行升序或降序排序。
- **重試**: 使用者點擊「失敗」紀錄旁的「重試」圖示按鈕，系統應會重新執行該任務。
- **匯出**: 使用者點擊「匯出」按鈕，可以將目前列表的資料（或勾選的資料）下載為 `.csv` 檔案。
- **篩選**: 使用者點擊「搜尋和篩選」按鈕，可開啟搜尋視窗，根據腳本名稱、狀態、日期範圍等條件過濾紀錄。
- **分頁**: 使用者可透過底部的分頁控制器來瀏覽不同頁面的紀錄。

**API 與資料流**
- **載入/搜尋紀錄**:
  - `GET /api/v1/automation/executions`: 獲取執行歷史紀錄。
    - **傳出參數**: `page`, `page_size`, `sort_by`, `sort_order`, `filters` (篩選條件物件)
    - **傳入資料**: `items: AutomationExecution[]`, `total: number`
- **重試執行**:
  - `POST /api/v1/automation/executions/{executionId}/retry`: 重新執行一個失敗的任務。
    - **傳出參數**: `executionId` (執行紀錄 ID)
    - **傳入資料**: 成功或失敗的狀態訊息。
- **資料模型**: `AutomationExecution`
  ```typescript
  // 自動化執行紀錄
  export interface AutomationExecution {
    id: string;
    playbook_id: string;
    playbook_name: string;
    status: ExecutionStatus; // 'pending' | 'running' | 'success' | 'failed' | 'cancelled'
    trigger_source: TriggerSource; // 'manual' | 'schedule' | 'webhook' | 'event'
    triggered_by: string; // User or system component
    start_time: string;
    end_time?: string;
    duration_ms?: number;
    parameters?: Record<string, any>;
    logs: {
      stdout: string;
      stderr: string;
    };
    deleted_at?: string;
  }
  ```

**需求與規格定義**
- **需求 1: 提供完整的執行歷史查詢**
  - **規格 1.1**: 系統必須提供一個可分頁、可排序的列表，展示所有自動化腳本的執行紀錄。
  - **規格 1.2**: 列表應清晰展示每次執行的核心資訊，包括腳本名稱、狀態、觸發方式與時間。
  - **規格 1.3**: 系統必須提供篩選功能，讓使用者能根據腳本、狀態、日期等多維度查詢歷史紀錄。
- **需求 2: 支援問題排查與追蹤**
  - **規格 2.1**: 使用者必須能夠點擊任一筆紀錄，查看其完整的執行詳情，包括參數、標準輸出和錯誤輸出。
  - **規格 2.2**: 對於執行失敗的任務，系統必須提供一鍵「重試」的功能。
- **需求 3: 支援資料匯出**
  - **規格 3.1**: 系統必須提供將執行紀錄匯出為 CSV 檔案的功能，以便進行離線分析或歸檔。
  - **規格 3.2**: 匯出功能應支援匯出所有篩選結果，或僅匯出使用者手動勾選的項目。
---

### `automation-run-log-detail.png`

**現況描述**
- 此為單次「執行日誌」的詳細資訊畫面，通常在一個從右側滑出的抽屜 (Drawer) 元件中顯示。
- 介面頂部是摘要區，包含：狀態、腳本名稱、觸發來源、執行耗時。
- 如果該次執行有使用參數，會有一個專門的區塊以格式化的 JSON 顯示傳入的所有參數。
- 介面主要部分分為兩個區塊：「標準輸出 (STDOUT)」和「標準錯誤 (STDERR)」。
- 「標準錯誤」區塊只有在 `stderr` 有內容時才會顯示。

**互動流程**
- **檢視**: 此畫面為唯讀，使用者無法進行任何修改操作。
- **捲動**: 當 STDOUT 或 STDERR 的日誌內容過長時，使用者可以在其各自的區塊內獨立捲動。
- **關閉**: 使用者可以點擊抽屜右上角的關閉按鈕，或點擊抽屜外的區域來關閉此詳細視圖，返回日誌列表。

**API 與資料流**
- **資料來源**: 此元件不直接呼叫 API。
- **資料傳遞**: 它是被動的，從父元件（`AutomationHistoryPage`）接收一個完整的 `AutomationExecution` 物件作為 props，並將其內容渲染出來。

**需求與規格定義**
- **需求 1: 提供詳細的執行日誌內容**
  - **規格 1.1**: 系統必須為每一次執行紀錄提供一個詳細的檢視畫面。
  - **規格 1.2**: 畫面必須清楚地展示該次執行的摘要資訊（如狀態、耗時）、使用的參數、完整的標準輸出和標準錯誤日誌。
- **需求 2: 提升日誌的可讀性**
  - **規格 2.1**: 所有日誌內容（STDOUT, STDERR）和參數物件都應使用等寬字體 (monospaced font) 顯示在預格式化的區塊中，以保持程式碼和日誌的對齊與可讀性。
  - **規格 2.2**: 「標準錯誤」區塊應有明顯的視覺區分（例如使用紅色系的背景或邊框），以警示使用者。
  - **規格 2.3**: 如果沒有標準輸出或標準錯誤，系統應在對應區塊顯示明確的提示文字（例如「無標準輸出」），而非留白。