# Common Responses
components:
  responses:
    BadRequest:
      description: Bad Request - Client-side error, such as invalid input, missing fields, or invalid enum values.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
          examples:
            missingFields:
              summary: Missing required fields
              value:
                message: "Missing required fields: name, type"
            invalidEnum:
              summary: Invalid enum value
              value:
                message: "Invalid status. Allowed values: new, acknowledged, resolved, silenced"

    NotFound:
      description: Resource Not Found - The requested resource could not be found.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
          examples:
            resourceNotFound:
              summary: A generic resource was not found
              value:
                message: "Resource with ID 'res-001' not found"
            incidentNotFound:
              summary: A specific incident was not found
              value:
                message: "Incident with ID 'INC-001' not found"

    Unauthorized:
      description: Unauthorized - Authentication is required and has failed or has not yet been provided.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
          examples:
            noToken:
              summary: Auth token was not provided
              value:
                message: "Authentication token not provided"
            invalidToken:
              summary: Auth token is invalid or expired
              value:
                message: "Invalid or expired authentication token"

    Forbidden:
      description: Forbidden - The server understood the request but refuses to authorize it.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
          examples:
            noPermission:
              summary: User lacks permissions for the action
              value:
                message: "You don't have permission to perform this action"

    InternalServerError:
      description: Internal Server Error - An unexpected condition was encountered on the server.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
          examples:
            serverError:
              summary: A generic server error occurred
              value:
                message: "An unexpected error occurred. Please try again later."

    AIServiceUnavailable:
      description: AI Service Unavailable - The AI analysis service is temporarily down or unreachable.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                description: 說明 AI 服務暫時無法處理請求的原因。
              retry_after_seconds:
                type: integer
                minimum: 0
                description: 建議客戶端再次重試前等待的秒數。
            required:
              - message
          example:
            message: AI analysis service is temporarily unavailable
            retry_after_seconds: 60

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT authentication token obtained from login endpoint
