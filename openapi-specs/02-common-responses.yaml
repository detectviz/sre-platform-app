# Common Responses
components:
  responses:
    BadRequest:
      description: Bad Request - Invalid input parameters
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
          examples:
            missingFields:
              summary: Missing required fields
              value:
                error: "Missing required fields: name, type"
            invalidEnum:
              summary: Invalid enum value
              value:
                error: "Invalid status. Allowed values: new, acknowledged, resolved, silenced"

    NotFound:
      description: Resource Not Found
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Resource not found
          examples:
            resourceNotFound:
              value:
                error: "Resource with ID 'res-001' not found"
            incidentNotFound:
              value:
                error: "Incident with ID 'INC-001' not found"

    Unauthorized:
      description: Unauthorized - Authentication required
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Authentication required
          examples:
            noToken:
              value:
                error: "Authentication token not provided"
            invalidToken:
              value:
                error: "Invalid or expired authentication token"

    Forbidden:
      description: Forbidden - Insufficient permissions
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Insufficient permissions
          examples:
            noPermission:
              value:
                error: "You don't have permission to perform this action"

    InternalServerError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Internal server error
          examples:
            serverError:
              value:
                error: "An unexpected error occurred. Please try again later."

    AIServiceUnavailable:
      description: AI Service Unavailable
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                description: 說明 AI 服務暫時無法處理請求的原因。
              retry_after_seconds:
                type: integer
                minimum: 0
                description: 建議客戶端再次重試前等待的秒數。
          example:
            error: AI analysis service is temporarily unavailable
            retry_after_seconds: 60

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT authentication token obtained from login endpoint
