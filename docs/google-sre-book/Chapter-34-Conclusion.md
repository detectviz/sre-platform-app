# 結論

作者：Benjamin Lutch
編輯：Betsy Beyer

我懷著巨大的自豪感讀完了這本書。從 90 年代初我在 Excite 工作時，我的團隊是一個被稱為「軟件運營」的、類似於尼安德塔人的 SRE 小組，那時起，我的職業生涯就一直在摸索著構建系統的過程。鑑於我多年來在科技行業的經驗，看到 SRE 的理念如何在 Google 扎根並如此迅速地發展，實在令人驚嘆。SRE 從我 2006 年加入 Google 時的幾百名工程師，發展到今天超過 1000 人，遍布十幾個地點，運行著我認為是地球上最有趣的計算基礎設施。

那麼，是什麼讓 Google 的 SRE 組織在過去十年中得以演進，以一種智能、高效和可擴展的方式來維護這個龐大的基礎設施呢？我認為 SRE 取得壓倒性成功的關鍵在於其運作原則的本質。

SRE 團隊的構建方式使得我們的工程師將時間分配在兩種同等重要的工作類型之間。SRE 負責 on-call 輪班，這需要我們親手操作系統，觀察這些系統在何處以及如何崩潰，並理解諸如如何最好地擴展它們等挑戰。但我們也有時間反思並決定要構建什麼，以使這些系統更易於管理。從本質上講，我們有幸同時扮演著**飛行員**和**工程師/設計師**的角色。我們運行大規模計算基礎設施的經驗被編碼成實際的代碼，然後打包成一個獨立的產品。

這些解決方案隨後可以被其他 SRE 團隊輕鬆使用，並最終被 Google 內部（甚至 Google 外部……想想 Google Cloud！）任何想要使用或改進我們積累的經驗和我們構建的系統的人使用。

當您著手建立一個團隊或一個系統時，理想情況下，其基礎應該是一套規則或公理，這些規則或公理既要足夠通用以便立即有用，又要能夠在未來保持相關性。Ben Treynor Sloss 在本書引言中概述的大部分內容正是如此：一套靈活、基本上不受未來影響的職責，在它們被構想出來 10 年後仍然切中要害，儘管 Google 的基礎設施和 SRE 團隊經歷了變化和增長。

隨著 SRE 的成長，我們注意到了一些不同的動態。首先是 SRE 主要職責和關注點隨時間的推移具有一致性：我們的系統可能比以前大或快 1000 倍，但最終，它們仍然需要**保持可靠、靈活、在緊急情況下易於管理、得到良好監控和容量規劃**。與此同時，隨著 Google 服務和 SRE 能力的成熟，SRE 典型的活動也必然會演變。例如，曾經的目標是「為 20 台機器建立一個儀表板」，現在可能變成了「在數萬台機器的集群上自動化發現、儀表板構建和警報」。

對於那些在過去十年中沒有親身經歷 SRE 的人來說，將 SRE 如何思考複雜系統與航空業如何處理飛機飛行的類比，有助於概念化 SRE 如何隨著時間的推移而演進和成熟。雖然這兩個行業失敗的風險非常不同，但某些核心的相似之處是成立的。

想像一下，一百年前您想在兩個城市之間飛行。您的飛機可能只有一個引擎（如果幸運的話，有兩個），幾袋貨物和一名飛行員。飛行員同時也扮演著機械師的角色，可能還兼任貨物的裝卸工。駕駛艙裡只有飛行員的空間，如果幸運的話，還有一個副駕駛/導航員。您的小飛機在好天氣下從跑道上彈跳起飛，如果一切順利，您會慢慢地爬上天空，最終在另一個城市降落，也許是幾百英里之外。飛機任何系統的故障都是災難性的，飛行員不得不在飛行中爬出駕駛艙進行修理也並非聞所未聞！輸入駕駛艙的系統是必不可少的、簡單的、脆弱的，而且很可能不是冗餘的。

快進一百年，一架巨大的 747 停在停機坪上。數百名乘客正在兩層樓上登機，同時數噸貨物正被裝入下方的貨艙。飛機上滿是可靠、冗餘的系統。它是安全和可靠的典範；事實上，您在空中比在地面上的汽車裡更安全。您的飛機將從一個大陸上跑道的一個虛線上起飛，並輕鬆地在 6000 英里外的另一個大陸的跑道上的一個虛線上降落，準時到達預計降落時間的幾分鐘之內。但是看看駕駛艙裡，您發現了什麼？**還是只有兩名飛行員！**

飛行體驗的其他所有元素——安全、容量、速度和可靠性——是如何如此完美地擴展的，而飛行員仍然只有兩名？這個問題的答案與 Google 如何處理 SRE 運行的龐大、極其複雜的系統是一個很好的平行。飛機操作系統的接口經過精心設計，易於上手，以至於在正常情況下學習如何駕駛它們並不是一項不可逾越的任務。然而，這些接口也提供了足夠的靈活性，操作它們的人員也受過充分的培訓，因此對緊急情況的響應是穩健和迅速的。駕駛艙是由那些了解複雜系統以及如何以一種既可消費又可擴展的方式將它們呈現給人類的人設計的。駕駛艙底層的系統具有本書中討論的所有相同屬性：可用性、性能優化、變更管理、監控和警報、容量規劃和應急響應。

最終，SRE 的目標是遵循類似的路線。一個 SRE 團隊應該盡可能精簡，並在高度抽象的層次上運作，依賴大量的備用系統作為故障安全裝置和深思熟慮的 API 來與系統通信。與此同時，SRE 團隊也應該對系統有全面的了解——它們如何運作、如何失敗以及如何響應失敗——這些知識來自於日復一日地操作它們。
